{% extends "layout.html" %}
{% block content %}
	<div class="past_shows_title">
		{% if manage_shows is defined %}
			<h2>Edit Past Shows</h2>
		{% else %}
			<h2>Past Shows</h2>
		{% endif %}

		<label class="cards_switch">
			Table
			<div class="switch">
				<input checked type="checkbox" onchange="cssToggle(event,'past_shows','cards_mode','table_mode')">
				<span class="slider round"></span>
			</div>
			Cards
		</label>
	</div>

	<table id="past_shows" class="cards_mode">
		<tr>
			<th>dateIndex</th>
			<th></th>
			<th onclick="sortTable('past_shows', 2)">Show</th>
			<th onclick="sortTable('past_shows', 0)">Season</th>
			<th onclick="sortTable('past_shows', 3)">Genre</th>
		</tr>

		{% for show in shows %}
			{% if manage_shows is defined %}
				{% set url = "/members/edit-show/" + show.id %}
			{% else %}
				{% set url = "/past-shows/" + show.id %}
			{% endif %}
			<tr class="link" onclick="location.href='{{ url }}'">
				<td>{{ loop.index0 }}</td>
				<td><img class="programme" src="{{ show.programme }}" alt="{{ show.title }} programme cover"></td>
				<td class="title"><h3>{{ show.title }}</h3></td>
				<td>{{ show.season }} {{ show.date.year }}</td>
				<td>{{ show.genre }}</td>
			</tr>
		{% endfor %}
	</table>
{% endblock %}